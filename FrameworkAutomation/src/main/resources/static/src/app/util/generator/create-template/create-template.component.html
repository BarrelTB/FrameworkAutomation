<h1 (click)="editTitle()" *ngIf="!edititingTitle">{{template.name}}</h1>
<form (submit)="editTitle()" ><input name="myTitle" type=text *ngIf="edititingTitle" [(ngModel)]="template.name"></form>


<div class="row">
  <div class="col-sm-2">
    <h5>Key Bindings</h5>
    <div>ctrl-q: add capture to selected</div>
    <div>ctrl-w: make selected a Sub Template</div>
    <div>:</div>
    <div>:</div>
    <div>:</div>
    <div>:</div>
    <div>:</div>
    <div>:</div>
    <h5>Errors</h5>
    <div>
      <div *ngFor="let error of errors">
        {{error.type}}:{{error.text}}
      </div>
    </div>
  </div>
  <div class="col-sm-6">
    <app-text-editor class="" (keyup)="refreshTemplate()" ></app-text-editor>
    <span>{{uptoDate}}</span>
  </div>
  <div class="col-sm-4 row">
    <div class="col-sm-4">
      <h4>Form Fields</h4>
    <div *ngFor="let formField of getKeys()">
      {{formField}}
    </div>
  </div>
  <div class="col-sm-4">
    <h4>Captures</h4>
  <div *ngFor="let capturedFieldName of capturedFieldNames">
    {{capturedFieldName.findId}}
  </div>
</div>
    <div class="col-sm-4">
      <table>
        <thead>
          <tr>
            <th>SubTemplates</th>
            <th>X</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let subtemplate of template.subTemplates">
            <td (click)="gotoSubTemplate(subtemplate.id)">{{subtemplate.name}}</td>
            <td (click)="removeSubTemplate(subtemplate.id)">X</td>
          </tr>
        </tbody>
      </table>
  </div>


  <div class="subtemplatePopUp" *ngIf="subTemplatePopup">
    <form class="subtemplatePopUpForm needs-validation clearfix" (submit)="makeSubTemplate()" novalidate>
      <div class="form-group">
      <label  for="name">Name</label>
      <input class="form-control" type="text" name="name" [(ngModel)]="subTemplateForm.name" required>
      <div class="invalid-feedback">
        Please provide name
      </div>
    </div>
    <div class="form-group">
      <div class="form-check">
      <input class="form-check-input" type="checkbox" name="multiselect" id="" [(ngModel)]="subTemplateForm.multiselect">
      <label class="form-check-label" for="multiselect">Multi-Select</label>
      </div>
    </div>
      <div class="form-group">
      <label for="directive">Extra Options</label>
      <select class="form-control" name="directive" id="" [(ngModel)]="subTemplateForm.directive">
        <option value="NONE">None</option>
        <option value="ADDBUTTON">Join Add Buttons</option>
      </select>
    </div>
      <div *ngIf="subTemplateForm.directive == 'ADDBUTTON'" class="form-group">
      <div name="AddButtonName"><label for="extraArgs">Add Button Name</label><input class="form-control" type="text" name="extraArgs" [(ngModel)]="subTemplateForm.extraArgs"></div>
    </div>
      <input class="btn btn-primary" type="submit" value="Create">
      <input class="btn btn-danger pull-right" type="button" value="Cancel" (click)="subTemplatePopup=false">
    </form >
  </div>

  <div class="subtemplatePopUp " *ngIf="capturePopup">
    <form class="subtemplatePopUpForm needs-validation clearfix" (submit)="addCapture()" novalidate>
      <div class="form-group">
      <label  for="name">Name</label>
      <input class="form-control" type="text" name="name" [(ngModel)]="captureForm.name" required>
      <div class="invalid-feedback">
        Please provide name
      </div>
    </div>
      <div class="form-group">
      <label for="pipe">Pipe</label>
      <select class="form-control" name="pipe" [(ngModel)]="captureForm.pipe">
        <option *ngFor="let pipeDescription of pipeManager.pipeDescriptions" value="{{pipeDescription['pipeName']}}">{{pipeDescription['description']}}</option>
      </select>
    </div>
  <div class="form-group">
  <label for="directive">Directive</label>
  <select class="form-control" name="directive" id="" [(ngModel)]="captureForm.directive">
    <option value="NONE">None</option>
    <option value="FIX">MakeValueAbsolute</option>
  </select>
</div>
      <div *ngIf="captureForm.directive == 'ADDBUTTON'" class="form-group">
      <div name="AddButtonName"><label for="extraArgs">Add Button Name</label><input class="form-control" type="text" name="extraArgs" [(ngModel)]="captureForm.extraArgs"></div>
    </div>
      <input class="btn btn-primary" type="submit" value="Create">
      <input class="btn btn-danger pull-right" type="button" value="Cancel" (click)="capturePopup=false">
    </form >
  </div>



  </div>
</div>




